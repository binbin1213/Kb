# NAS 部署 ADH ，给数字人注入灵魂，打造一个有温度的数字人

**公众号**: NASBox
**发布日期**: 2025-05-12 01:05:34

如有修改或改动，关注文章底部留言！教程对你有用，可以 “**点赞** ” 和 “**打赏** ”支持 ~

  


  


<img src='https://mmbiz.qpic.cn/sz_mmbiz_png/5xFLia3A3km51D7jM3Xfew16VYrXibS3La7pOB0NguhRZVJUSVnGoaTeoVNicDB37fXhGhucAZ2SPw2FPt5wXpDicQ/640?wx_fmt=png&from=appmsg' />

ADH (Awesome Digital Human)：

一个关于数字人的开源项目，旨意打造一个私有且可定制的数字人。

<img src='https://mmbiz.qpic.cn/sz_mmbiz_png/5xFLia3A3km51D7jM3Xfew16VYrXibS3LaexG7XJqLH6XPlHFytI1DRsnHXzJiaAGCRiaCk3hibOKsQH9aas7pnXwKw/640?wx_fmt=png&from=appmsg' />

主要特性：

  * • 支持 Docker 快速部署
  * • 超轻量级，配置要求低于 2 核 2G
  * • 支持 Dify/FastGPT 等编排框架服务接入
  * • 支持 ASR、LLM、TTS、Agent 模块化扩展
  * • 支持 Live2d 人物模型扩展和控制方式
  * • 支持 PC 端和移动端 web 访问



TIP：

测试过飞牛默认占用 8000 不能正常部署，Unraid 是没问题的。修改 .env 文件配置文件，将 8000 端口改为其他也是不行的，可能是需要重新打包构建镜像。

### 安装

Docker Compose
    
    
    services:  
    adh_web:  
    image: registry.cn-hangzhou.aliyuncs.com/awesome-digital-human/adh-web:main-latest  
    container_name: adh_web  
    ports:  
       - 3000:3000  
    volumes:  
       - /vol1/1000/docker/adh/.env:/workspace/.env  
    restart: always  
      
    adh_server:  
    image: registry.cn-hangzhou.aliyuncs.com/awesome-digital-human/adh-api:main-latest  
    container_name: adh_server  
    ports:  
       - 8000:8000  
    volumes:  
       - /vol1/1000/docker/adh/configs:/workspace/configs  
    restart: always

参数说明（更多参数设置建议去看文档）

:::  
/workspace/.env（路径映射）：配置前端页面参数

/workspace/configs（路径映射）：配置服务端页面参数

:::

需要去 Github 上下载对应文件进行映射，分别是： configs 文件夹和 .env 文件（web 目录里面）

<img src='https://mmbiz.qpic.cn/sz_mmbiz_png/5xFLia3A3km51D7jM3Xfew16VYrXibS3LaS1xdB0Pgr0L8BzBzGuOrxibia9R1oNkftYc0SoOGCQ3aFTTzLlZHUrNQ/640?wx_fmt=png&from=appmsg' />

### 使用

浏览器中输入 `http://NAS的IP:3000` 就能看到界面

<img src='https://mmbiz.qpic.cn/sz_mmbiz_png/5xFLia3A3km51D7jM3Xfew16VYrXibS3LaEHyLJeezSfjskBgCSXah53EnmPicMXibR4BPbJ4gXjD1AMN4ic4xwUicpQ/640?wx_fmt=png&from=appmsg' />

点击“Gallery”，可以切换人物模型

<img src='https://mmbiz.qpic.cn/sz_mmbiz_png/5xFLia3A3km51D7jM3Xfew16VYrXibS3La7UIoia4unAolibDVZQ0I2CItd0ial5b4fTeZcIDgPPYzDtpYJjnicgiaDZA/640?wx_fmt=png&from=appmsg' />

默认自带有几款 Live2d 人物模型

<img src='https://mmbiz.qpic.cn/sz_mmbiz_png/5xFLia3A3km51D7jM3Xfew16VYrXibS3Laribk8Tbe3SmdCXfvhqb8Xwy1jPVwFxoeE3a6ibOryZSC5dyicP0TTibicTw/640?wx_fmt=png&from=appmsg' />

还可以切换背景

<img src='https://mmbiz.qpic.cn/sz_mmbiz_png/5xFLia3A3km51D7jM3Xfew16VYrXibS3La0dbAHqaIqibk2g41UYkib7835iboic3ibu788TA6sKTyzQ34gTehjIBkOGg/640?wx_fmt=png&from=appmsg' />

这里我换了另外一个模型，点击“Setting”进行设置

<img src='https://mmbiz.qpic.cn/sz_mmbiz_png/5xFLia3A3km51D7jM3Xfew16VYrXibS3Layn50OkvsichvI1xWSEJA8cSo5YicEn9jYfWjmdN9Z9mHg9QDPaECynEQ/640?wx_fmt=png&from=appmsg' />

交互模式：

  * • 聊天模式：专注于文字交互，不展示数字人
  * • 数字人模式：专注于数字人交互
  * • 沉浸模式（预留给语音唤醒的模式，暂未支持）：专注与数字人之间的直接交互



默认有 3 种交互模式：聊天模式，数字人模式和沉浸模式

<img src='https://mmbiz.qpic.cn/sz_mmbiz_png/5xFLia3A3km51D7jM3Xfew16VYrXibS3LaafytwL7EOdcrBjTTbKb804EglSIyMOTsoNv18r3oQEJic1ufTHHZ3CQ/640?wx_fmt=png&from=appmsg' />

Agent 模式：

  * • ReapterAgent（测试使用）：重复用户输入的语句
  * • DifyAgent：接入 Dify 的服务
  * • FastgptAgent：接入 fastgpt 的服务
  * • OpenaiAgent：接入适配 openai 接口的服务



切换到服务，对接的 API 服务

<img src='https://mmbiz.qpic.cn/sz_mmbiz_png/5xFLia3A3km51D7jM3Xfew16VYrXibS3LaGjuxIqNYsbibCpZvwX4Boos5KiayzBSU80hAhzMlHMNmcZohDrAlicISA/640?wx_fmt=png&from=appmsg' />

这里我是对接第三方的 OpenAI 接口

<img src='https://mmbiz.qpic.cn/sz_mmbiz_png/5xFLia3A3km51D7jM3Xfew16VYrXibS3LacE4RfqZRkvRvVJxfsz5TPwdIXEYfYL5DD9Rv8oCTgVjLkvNBf46ggQ/640?wx_fmt=png&from=appmsg' />

文字输入可以正常回复，而且有语音也是正常的，而且有嘴型匹配

<img src='https://mmbiz.qpic.cn/sz_mmbiz_png/5xFLia3A3km51D7jM3Xfew16VYrXibS3LagemDsVBfLZ2r8jV5GuVeHCl6wLnaicdnhicHiaNanly6684qXX9bNsvag/640?wx_fmt=png&from=appmsg' />

手机网页端也是有做适配的

<img src='https://mmbiz.qpic.cn/sz_mmbiz_png/5xFLia3A3km51D7jM3Xfew16VYrXibS3LaGgwmw7A3icibHCNNztabjoM0SN9j1bNLAQkOsUT2sD8aQpNIgt7l8d0g/640?wx_fmt=png&from=appmsg' />

### 扩展

浏览器在 HTTP 协议下认为打开麦克风是不安全的，所以需要手动修改下浏览器的设置

<img src='https://mmbiz.qpic.cn/sz_mmbiz_png/5xFLia3A3km51D7jM3Xfew16VYrXibS3LaylUEianywibwQAxNokNleQwyhktqTj51v9wLaFiaWyYSSDYZxNztjPk1g/640?wx_fmt=png&from=appmsg' />

Chrome 浏览器地址栏输入：chrome://flags/#unsafely-treat-insecure-origin-as-secure

<img src='https://mmbiz.qpic.cn/sz_mmbiz_png/5xFLia3A3km51D7jM3Xfew16VYrXibS3LaaK68bVhYzw55FX6HH4BkzEpicibTabF7l8UXQR9BduAMJjqiaF7yY3GLA/640?wx_fmt=png&from=appmsg' />

Insecure origins treated as secure 栏目中填写数字人前端的地址，例如：http://192.168.31.90:3000

<img src='https://mmbiz.qpic.cn/sz_mmbiz_png/5xFLia3A3km51D7jM3Xfew16VYrXibS3LaxtAjunIhr6icHRQg6iaBsuVSECqU1rAYA7fXb1iaHSFIA2Avvxw7qBVTQ/640?wx_fmt=png&from=appmsg' />

重启以后，之前的不安全表示没了

<img src='https://mmbiz.qpic.cn/sz_mmbiz_png/5xFLia3A3km51D7jM3Xfew16VYrXibS3Law7JicIVeyv64FIk5AsSYrA2fbTianYC2BzfEBM3xFhT5yHMHNDRyc6dQ/640?wx_fmt=png&from=appmsg' />

但好像这个功能是不行的

<img src='https://mmbiz.qpic.cn/sz_mmbiz_png/5xFLia3A3km51D7jM3Xfew16VYrXibS3La2P70ePvNc8Nib2bB8b4ebWibXUSX8CLKecg4XBuJeHmremv6tKFDVfag/640?wx_fmt=png&from=appmsg' />

### 总结

挺好玩的一个开源数字人项目，可惜的是已经停止更新差不多半年了。如果后面可以能够对接直播弹幕，做成一条龙的产品就可以实现 24h 无人直播。

综合推荐：⭐⭐⭐⭐（可以尝鲜玩玩）

使用体验：⭐⭐⭐（功能还比较少）

部署难易：⭐⭐⭐（中等）︎

  


  


  


︎